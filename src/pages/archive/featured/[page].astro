---
import ArchiveView from "../../../components/ArchiveView.astro";
import { getAllThreads } from "../../../lib/data";
import { parsePageParam, generatePaginationPaths } from "../../../lib/pagination";

export async function getStaticPaths() {
    const allThreads = getAllThreads();
    const featuredThreads = allThreads.filter((t) => t.featured);
    return generatePaginationPaths(featuredThreads.length);
}

const { page } = Astro.params;
const currentPage = parsePageParam(page);
---

<ArchiveView currentPage={currentPage} title={`精品帖 - 第${currentPage}页 - 档案馆 - fursuit吧·档案馆与时间机器：为了无法忘却的往事`} filter="featured" />
